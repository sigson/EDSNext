/*
 * This file was generated by the Gradle 'init' task.
 */

apply plugin: 'java'

repositories {
    mavenCentral()
}

sourceCompatibility = '1.7'

task removeClassesBadForAndroid(type: Delete) {
    delete fileTree("$buildDir/classes/java/main/") {
        include 'org/apache/ftpserver/listener/nio/FtpHandlerAdapter*'
    }
    doFirst {
        println "removing classes which are bad for android"
    }
}
removeClassesBadForAndroid.dependsOn('classes')
jar.dependsOn('removeClassesBadForAndroid')

dependencies {
    implementation project(':apache-ftpserver-1.1.1-ftplet-api')
    implementation 'org.slf4j:slf4j-api:1.7.26'
    implementation 'org.apache.mina:mina-core:2.1.6'
    implementation 'org.springframework:spring-context:2.5.5'
    implementation 'org.slf4j:jcl-over-slf4j:1.7.21'
    implementation 'commons-net:commons-net:20030805.205232'
    // remove log4j from test-classpath to avoid github vulnerability warning
    //testCompile 'org.slf4j:slf4j-log4j12:1.7.21'
    //testCompile 'log4j:log4j:1.2.17'
    testImplementation 'junit:junit:4.13.2'
    testImplementation 'commons-codec:commons-codec:1.13'
    testImplementation 'hsqldb:hsqldb:1.8.0.10'
}

description = 'Apache FtpServer Core'

compileTestJava {
    exclude 'org/apache/ftpserver/**'
}
test {
    exclude 'org/apache/ftpserver/**'
}
